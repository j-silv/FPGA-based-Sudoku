Version 4
SHEET 1 5320 824
WIRE 208 0 208 -64
WIRE -128 80 -128 32
WIRE 0 80 0 32
WIRE 208 144 208 80
WIRE -128 208 -128 160
WIRE 0 208 0 160
WIRE 208 272 208 208
WIRE 208 272 64 272
WIRE -192 320 -288 320
WIRE -48 320 -112 320
WIRE 0 320 -48 320
WIRE 208 320 208 272
WIRE -48 368 -48 320
WIRE 144 368 64 368
WIRE -48 496 -48 448
WIRE 48 496 -48 496
WIRE 208 496 208 416
WIRE 208 496 128 496
WIRE 208 576 208 496
FLAG 208 576 0
FLAG -288 320 VIN
FLAG 208 -64 VCC
FLAG -128 208 0
FLAG -128 32 VCC
FLAG 0 208 0
FLAG 0 32 VIN
SYMBOL npn 144 320 R0
WINDOW 0 37 32 Left 2
WINDOW 3 36 59 Left 2
SYMATTR InstName Q2
SYMATTR Value ULN2003A
SYMBOL LED 192 144 R0
SYMATTR InstName D1
SYMATTR Value LED1
SYMBOL res 192 -16 R0
SYMATTR InstName RS
SYMATTR Value {R/Nsegments}
SYMBOL res -96 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RB
SYMATTR Value 2.7k
SYMBOL res -32 464 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 7.2k
SYMBOL voltage -128 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.3
SYMBOL voltage 0 64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL npn 0 272 R0
WINDOW 0 40 33 Left 2
WINDOW 3 37 62 Left 2
SYMATTR InstName Q1
SYMATTR Value ULN2003A
SYMBOL res 144 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3k
TEXT 368 232 Left 2 !.param Nsegments=72 R=220
TEXT 368 256 Left 2 !.tran 100us
TEXT 360 328 Left 2 !*Typ RED GaAs LED: Vf=1.7V Vr=4V If=40mA trr=3uS\n.MODEL LED1 D (Vfwd=2.0 IS=93.2P RS=42M N=3.73 BV=4 IBV=10U\n+ CJO=2.97P VJ=.75 M=.333 TT=4.32U)
TEXT 360 456 Left 2 !.MODEL ULN2003A NPN (BF=32 )
TEXT 368 296 Left 2 ;LED model
TEXT 368 424 Left 2 ;Darlington pair model
TEXT 368 200 Left 2 ;Simulation
